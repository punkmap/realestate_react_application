{"version":3,"sources":["assets/PushPin.png","components/molecules/MapSearch/MapSearch.js","components/SidePanel.js","components/molecules/InfoPanel/InfoPanel.js","components/organisms/Chatter/Chatter.js","components/molecules/MapOverlayPanel/MapOverlayPanel.js","components/ReactMap.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","MapSearch","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","searchWidget","self","loadModules","then","_ref","_ref2","slicedToArray","Search","GraphicsLayer","Graphic","PictureMarkerSymbol","webMercatorUtils","Locator","view","map","container","locationEnabled","resultGraphicEnabled","sources","get","push","featureLayer","url","searchFields","displayField","exactMatch","outFields","name","placeholder","locator","singleLineFieldName","autoNavigate","maxSuggestions","set","activeSourceIndex","setState","searchResultGL","add","draggingGraphic","tempGraphic","resultIcn","pinImg","height","width","on","event","mapPoint","webMercatorToGeographic","results","feature","geometry","resultG","symbol","console","log","selectParcelCallback","centroid","graphics","resultPinDragable","evt","action","hitTest","resp","graphic","type","stopPropagation","remove","clone","toMap","newGraphic","react_default","a","createElement","className","Grid_default","spacing","alignItems","direction","justify","id","Component","SidePanel","update","e","onUpdate","target","value","fieldVal","handleChange","projectCallback","phaseCallback","defineProperty","project_delete","phase_delete","project","phase","disableAddButton","disableDeleteButton","menuClick","anchorEl","currentTarget","handleClose","key","titleBarTitle","editAction","getPointerEvents","componentDidMount","sideNav","React","createRef","addProject","addSelectedProperties","removeProject","deleteSelectedProperties","classes","showDeleteButton","pointerEvents","bind","assertThisInitialized","MuiThemeProvider_default","muiTheme","getMuiTheme","darkBaseTheme","Fade_default","in","hideSidePanel","timeout","Paper_default","classNames","pointerEventsAuto","AppBar_default","appBar","title","iconElementLeft","IconButton_default","color","aria-label","aria-owns","undefined","aria-haspopup","onClick","icons_Menu_default","Menu_default","open","Boolean","onChange","MenuItem_default","FormControl_default","margin","TextField_default","label","TextField","variant","Fab_default","disabled","addButton","DoneAll_default","extendedIcon","textField","deleteButton","DeleteForever_default","withStyles","theme","position","marginLeft","unit","marginRight","paper","paddingTop","paddingBottom","maxWidth","paddingLeft","typeTitle","palette","getContrastText","green","backgroundColor","&:hover","red","InfoPanel","nextRecord","pageIndex","lastRecord","pageCount","parcelData","hasError","popupData","data","realEstate","realEstateData","_this2","item","xs","core_IconButton_default","button","KeyboardArrowLeft_default","PIN","realEstateDataLength","KeyboardArrowRight_default","List_default","list","subheader","concat","listSection","JSON","stringify","ul","ListSubheader_default","disableGutters","subHeader","keys","ListItem_default","ListItemText_default","primary","length","listStyleType","padding","fontSize","Chatter","root","index_min_default","display","allowFullScreen","MapOverlayPanel","top","background","setProjectCallback","setPhaseCallback","componentDidUpdate","molecules_MapSearch_MapSearch","src_components_SidePanel","ref","molecules_InfoPanel_InfoPanel","nodeAppRoot","ReactMap","loadMap","_ref$loadedModules","loadedModules","Map","MapView","FeatureLayer","containerNode","fl","popupTemplate","minScale","when","parcelsFL","renderer","outline","parcelAddGL","visible","watch","newValue","oldValue","property","object","selectedParcelGL","basemap","addMany","loadExistingProjectsToMap","center","zoom","mapView","mapClick","popup","highlightEnabled","actions","refreshProjectFL","callback","axios","method","response","array","projectsAddPIN10s","s","join","projectsFL","definitionExpression","status","catch","error","popupEnabled","reorder","addFeature","selectParcel","_ref4","_ref5","QueryTask","Query","parcels","qTask","layerId","params","returnGeometry","spatialRelationship","execute","features","addGraphicToProjectSet","thisParcel","parse","style","removeAll","PIN10","attributes","post","resData","deleteObjectKeys","err","forEach","ctrlKey","graphicInGraphicsLayer","G","GL","idField","inGL","g","removeGraphicById","removeGraphics","removeMany","getSelectedProperties","parceldata","attr","indexOf","RealLink","DeedLink","Project","Phase","alert","message","selectParcelFromSearch","document","addEventListener","es","options","modulesToLoad","onReady","molecules_MapOverlayPanel_MapOverlayPanel","PureComponent","App","src_components_ReactMap","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.8c2fd997.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/PushPin.d22b5a3d.png\";","import React, { Component, Fragment } from 'react'\r\nimport { loadModules } from 'esri-loader'\r\nimport './MapSearch.css'\r\n\r\nimport pinImg from '../../../assets/PushPin.png'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nclass MapSearch extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n        searchWidget: null\r\n    }\r\n  }\r\n componentDidUpdate() {\r\n    const self = this\r\n    loadModules(['esri/widgets/Search', 'esri/layers/GraphicsLayer', 'esri/Graphic', 'esri/symbols/PictureMarkerSymbol', 'esri/geometry/support/webMercatorUtils', 'esri/tasks/Locator']).then(([Search, GraphicsLayer, Graphic, PictureMarkerSymbol, webMercatorUtils, Locator]) => {\r\n      \r\n        if (self.state.searchWidget==null&&self.props.view!=null&&self.props.view.map!=null){\r\n        const view = self.props.view;\r\n        let searchWidget = new Search({\r\n          view: view\r\n          , container: 'searchWidget'\r\n          , locationEnabled: false\r\n          , resultGraphicEnabled: false\r\n          //, popupEnabled: false\r\n        })\r\n        let sources = searchWidget.get('sources');\r\n        let propertySource = {\r\n          featureLayer: {\r\n            url: \"https://maps.townofcary.org/arcgis1/rest/services/Property/Property/MapServer/0\",\r\n          },\r\n          searchFields: [\"PIN10\"],\r\n          displayField: \"PIN10\",\r\n          exactMatch: false,\r\n          outFields: [\"PIN10\"],\r\n          name: \"Property PIN10\",\r\n          placeholder: \"PIN10: 0764523393\",\r\n    }\r\n        sources.push(propertySource,\r\n        {\r\n            //Pass in the custom locator to the sources\r\n            locator: new Locator(\"https://maps.townofcary.org/arcgis1/rest/services/Locators/Cary_Com_Locator/GeocodeServer\"),\r\n            singleLineFieldName: \"SingleLine\",\r\n            outFields: [\"*\"],\r\n            name: \"ToC Locator\",\r\n            autoNavigate: true,\r\n            maxSuggestions: 3,\r\n            placeholder: \"Address: 120 Wilkinson Ave\"\r\n        })\r\n        searchWidget.set('sources', sources)\r\n        searchWidget.activeSourceIndex = 1;\r\n        self.setState({searchWidget:searchWidget})  \r\n        let searchResultGL = new GraphicsLayer()\r\n        self.props.view.map.add(searchResultGL, 5)\r\n        let resultIcn = new PictureMarkerSymbol({url:pinImg, height: '48px', width: '48px'})\r\n        \r\n        searchWidget.on('search-complete', function(event) {\r\n          let mapPoint = webMercatorUtils.webMercatorToGeographic(event.results[0].results[0].feature.geometry)\r\n          let resultG = new Graphic({\r\n              geometry: mapPoint, \r\n              symbol: resultIcn\r\n            });\r\n            console.log('event.activeSourceIndex: ' + event.activeSourceIndex)\r\n            if(event.activeSourceIndex === 1||event.activeSourceIndex === 2){\r\n              self.props.selectParcelCallback(mapPoint.centroid)\r\n            }\r\n          searchResultGL.graphics.add(resultG)\r\n        })\r\n\r\n        if(self.props.resultPinDragable == true){\r\n            let draggingGraphic;\r\n            let tempGraphic;\r\n            view.on(\"drag\", function(evt) {       \r\n              // if this is the starting of the drag, do a hitTest\r\n              if (evt.action === 'start'){\r\n                view.hitTest(evt).then(resp => {\r\n                  if (resp.results[0].graphic && resp.results[0].graphic.geometry.type === 'point'){\r\n                    evt.stopPropagation();\r\n                    // if the hitTest returns a point graphic, set dragginGraphic\r\n                    draggingGraphic = resp.results[0].graphic;\r\n                  }\r\n                });\r\n              } else if (evt.action === 'update'){\r\n                // on drag update events, only continue if a draggingGraphic is set\r\n                if (draggingGraphic){\r\n                  evt.stopPropagation();\r\n                  // if there is a tempGraphic, remove it\r\n                  if (tempGraphic) {\r\n                    searchResultGL.remove(tempGraphic);\r\n                  } else {\r\n                    // if there is no tempGraphic, this is the first update event, so remove original graphic\r\n                    searchResultGL.remove(draggingGraphic);\r\n                  }\r\n                  // create new temp graphic and add it\r\n                  tempGraphic = draggingGraphic.clone();\r\n                  tempGraphic.geometry = view.toMap(evt);\r\n                  searchResultGL.add(tempGraphic);\r\n                }\r\n              } else if (evt.action === 'end'){\r\n                // on drag end, continue only if there is a draggingGraphic\r\n                if (draggingGraphic){\r\n                  evt.stopPropagation();\r\n                  // rm temp\r\n                  if (tempGraphic) searchResultGL.remove(tempGraphic);\r\n                  // create new graphic based on original dragging graphic\r\n                  let newGraphic = draggingGraphic.clone();\r\n                  newGraphic.geometry = tempGraphic.geometry.clone();\r\n                  \r\n                  // add replacement graphic\r\n                  searchResultGL.add(newGraphic);\r\n                  \r\n                  // reset vars\r\n                  draggingGraphic = null;\r\n                  tempGraphic = null; \r\n                }\r\n              }    \r\n            });\r\n          }\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"mapSearch\">\r\n        <Grid\r\n          container\r\n          spacing={16}\r\n          alignItems=\"center\"\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n        >\r\n          <div id=\"searchWidget\" />\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MapSearch","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport darkBaseTheme from 'material-ui/styles/baseThemes/darkBaseTheme';\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\r\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\r\nimport IconButton from 'material-ui/IconButton';\r\n// import FloatingActionButton from 'material-ui/FloatingActionButton';\r\n// import NavigationClose from 'material-ui/svg-icons/navigation/close';\r\n\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport DeleteIcon from '@material-ui/icons/DeleteForever';\r\nimport NavigationIcon from '@material-ui/icons/DoneAll';\r\nimport green from '@material-ui/core/colors/green';\r\nimport red from '@material-ui/core/colors/red';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AppBar from 'material-ui/AppBar';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport './SidePanel.css';\r\n\r\n\r\nfunction getPointerEvents(){\r\n    return true\r\n}\r\nconst styles = theme => ({\r\n    appBar: {\r\n      position: 'relative',\r\n    }\r\n    , textField: {\r\n        marginLeft: theme.spacing.unit,\r\n        marginRight: theme.spacing.unit,\r\n    }\r\n    , pointerEventsAuto: {\r\n        pointerEvents: 'auto'\r\n    }\r\n    , paper: {\r\n        paddingTop: theme.spacing.unit * 2,\r\n        paddingBottom: theme.spacing.unit * 2,\r\n    }\r\n    , type: {\r\n        width: '100%',\r\n        maxWidth: 500,\r\n        paddingLeft: 15\r\n    }\r\n    , typeTitle: {\r\n        paddingTop: 5\r\n    }\r\n    , addButton: {\r\n        color: theme.palette.getContrastText(green[500]),\r\n        backgroundColor: green[500],\r\n        '&:hover': {\r\n            backgroundColor: green[700],\r\n        },\r\n    }\r\n    , deleteButton: {\r\n        color: theme.palette.getContrastText(red[500]),\r\n        backgroundColor: red[500],\r\n        '&:hover': {\r\n            backgroundColor: red[700],\r\n        },\r\n    }\r\n    , extendedIcon: {\r\n        marginRight: theme.spacing.unit*2,\r\n    }\r\n\r\n  });\r\n\r\nclass SidePanel extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        const { classes } = this.props;\r\n        this.state = {\r\n            project: ''\r\n            , phase: ''\r\n            , project_delete: ''\r\n            , phase_delete: ''\r\n            , disableAddButton: true\r\n            , showDeleteButton: true\r\n            , anchorEl: null\r\n            , editAction: 'add'\r\n            , titleBarTitle: 'Add Project'\r\n            , pointerEvents: 'auto'\r\n            // , sidePanelClasses: ['sidePanel', 'pointerEventsInactive']\r\n            // , textFieldClasses: [classes.textField, classes.pointerEventsInactive]\r\n            //, editAction: 'delete'\r\n        };\r\n        this.menuClick = this.menuClick.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n\r\n        this.sideNav = React.createRef();\r\n    }\r\n    update = (e) => {\r\n        this.props.onUpdate(e.target.value);\r\n        this.setState({fieldVal: e.target.value});\r\n    };\r\n    handleChange = name => event => {\r\n        name === 'project' || name==='project_delete' ? this.props.projectCallback(event.target.value) : this.props.phaseCallback(event.target.value)\r\n        \r\n        this.setState({\r\n            [name]: event.target.value,\r\n        }, () => {\r\n            console.log('this.state.project_delete: ' + this.state.project_delete);\r\n            console.log('this.state.phase_delete: ' + this.state.phase_delete);\r\n            if(this.state.project && this.state.phase){\r\n                this.setState({disableAddButton: false})\r\n            }\r\n            else{\r\n                this.setState({disableAddButton: true})\r\n            }\r\n            if(this.state.project_delete && this.state.phase_delete){\r\n                this.setState({disableDeleteButton: false})\r\n            }\r\n            else{\r\n                this.setState({disableDeleteButton: true})\r\n            }\r\n        });\r\n    };\r\n    menuClick = (e) =>{\r\n        this.setState({anchorEl : e.currentTarget})\r\n    }\r\n    \r\n    handleClose = key => e => {\r\n        key === 'add'? this.setState({titleBarTitle: 'Add Project'}) : this.setState({titleBarTitle: 'Remove Project'})\r\n        this.setState({editAction:key})\r\n        this.setState({anchorEl : null})\r\n    }\r\n    getPointerEvents = () => {\r\n        return true\r\n    }\r\n    componentDidMount = () => {\r\n        this.sideNav = React.createRef();\r\n    }\r\n    componentDidUpdate() {\r\n        // const { classes } = this.props;\r\n        // if(!this.props.hideSidePanel && this.state.sidePanelClasses !== ['sidePanel', 'pointerEventsActive']){\r\n        //     this.state.sidePanelClasses.splice(-1, 1)\r\n        //     this.state.sidePanelClasses.push('pointerEventsActive')\r\n        // } \r\n        // else if (this.props.hideSidePanel && this.state.sidePanelClasses !== ['sidePanel', 'pointerEventsInactive']) {\r\n        //     //this.setState({sidePanelClasses : ['sidePanel', 'sidePanelActive']})\r\n        //     this.state.sidePanelClasses.splice(-1, 1)\r\n        //     this.state.sidePanelClasses.push('pointerEventsInactive')\r\n        // }\r\n    }\r\n    addProject = () =>{\r\n        this.setState({project:''})\r\n        this.setState({phase:''})\r\n        this.setState({disableAddButton: true})\r\n        this.props.addSelectedProperties()\r\n    }\r\n    removeProject = () =>{\r\n        this.setState({project_delete:''})\r\n        this.setState({phase_delete:''})\r\n        this.setState({disableDeleteButton: true})\r\n        this.props.deleteSelectedProperties()\r\n    }\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n        <MuiThemeProvider muiTheme={getMuiTheme(darkBaseTheme)}>\r\n            <div >\r\n                <Fade in={!this.props.hideSidePanel} timeout={1000}>\r\n                    <Paper \r\n                        className={classNames('sidePanel', {[classes.pointerEventsAuto]:this.props.hideSidePanel===false})}\r\n                        //className={this.state.sidePanelClasses.join(' ')}\r\n                    >   \r\n                        <AppBar className={classes.appBar} title={this.state.titleBarTitle} iconElementLeft={(\r\n                            <IconButton color=\"inherit\" aria-label=\"Menu\" \r\n                                aria-owns={this.state.anchorEl ? 'simple-menu' : undefined}\r\n                                aria-haspopup=\"true\" \r\n                                onClick={this.menuClick}>\r\n                                <MenuIcon />\r\n                            </IconButton>)} \r\n                        >\r\n                        <Menu id=\"simple-menu\" anchorEl={this.state.anchorEl} open={Boolean(this.state.anchorEl)} onChange={this.handleClose}>\r\n                            <MenuItem onClick={this.handleClose('add')}>Add</MenuItem>\r\n                            <MenuItem onClick={this.handleClose('remove')}>Remove</MenuItem>\r\n                        </Menu>\r\n                        </AppBar>\r\n                        {this.state.editAction==='add' ? (\r\n                            <FormControl margin='normal'>\r\n                                <TextField\r\n                                    id=\"tf_project\"\r\n                                    label=\"Project Number\"\r\n                                    className={classes.TextField}\r\n                                    value={this.state.project}\r\n                                    onChange={this.handleChange('project')}\r\n                                    margin=\"normal\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <TextField\r\n                                    id=\"tf_phase\"\r\n                                    label=\"Phase\"\r\n                                    className={classes.TextField}\r\n                                    value={this.state.phase}\r\n                                    onChange={this.handleChange('phase')}\r\n                                    margin=\"normal\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                    <Fab variant=\"extended\" \r\n                                        disabled={this.state.disableAddButton}\r\n                                        color=\"primary\" \r\n                                        aria-label=\"Add\" \r\n                                        className={classes.addButton}\r\n                                        onClick={this.addProject}>\r\n                                    \r\n                                        <NavigationIcon className={classes.extendedIcon} />\r\n                                        <b>Add Selection</b>\r\n                                    </Fab>\r\n                            </FormControl>\r\n                        ) : (\r\n                            <FormControl margin='normal'>\r\n                                <TextField\r\n                                    id=\"tf_project_delete\"\r\n                                    label=\"Project Number\"\r\n                                    className={classes.textField}\r\n                                    value={this.state.project_delete}\r\n                                    onChange={this.handleChange('project_delete')}\r\n                                    margin=\"normal\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <TextField\r\n                                    id=\"tf_phase_delete\"\r\n                                    label=\"Phase\"\r\n                                    className={classes.textField}\r\n                                    value={this.state.phase_delete}\r\n                                    onChange={this.handleChange('phase_delete')}\r\n                                    margin=\"normal\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <Fab variant=\"extended\" \r\n                                    disabled={this.state.disableDeleteButton}\r\n                                    color=\"primary\" \r\n                                    aria-label=\"Delete\" \r\n                                    className={classes.deleteButton}\r\n                                    onClick={this.removeProject}\r\n                                >\r\n                                    <DeleteIcon className={classes.extendedIcon} />\r\n                                    <b>Delete Project</b>\r\n                                </Fab>\r\n                            </FormControl>\r\n                        )}                \r\n                    </Paper>\r\n                </Fade>\r\n            </div>\r\n        </MuiThemeProvider>\r\n        );\r\n    }\r\n}\r\nSidePanel.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n  };\r\nexport default withStyles(styles)(SidePanel);","import React, { Component } from 'react'\r\nimport classNames from 'classnames'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Fade from '@material-ui/core/Fade'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport BackIcon from '@material-ui/icons/KeyboardArrowLeft'\r\nimport ForwardIcon from '@material-ui/icons/KeyboardArrowRight'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\n\r\nimport './InfoPanel.css'\r\n\r\nconst styles = theme => ({\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    pointerEvents: 'auto',\r\n  },\r\n  list: {\r\n      width: '100%',\r\n      height : '100%',\r\n      position: 'relative',\r\n      margin: 0,\r\n  },\r\n  listSection: {\r\n      height : '100%',\r\n      backgroundColor: 'inherit',\r\n      listStyleType: 'none',\r\n      width: '100%',\r\n  },\r\n  ul: {\r\n      backgroundColor: 'inherit',\r\n      padding: 0,\r\n      margin:0,\r\n  },\r\n  subHeader: {\r\n      fontSize:'2rem',\r\n      backgroundColor:'#E8E8E8'\r\n  },\r\n  pointerEventsAuto: {\r\n      pointerEvents: 'auto'\r\n  },\r\n});\r\n\r\nclass InfoPanel extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n        pageIndex: 0\r\n        , pageCount:null\r\n        , parcelData:null\r\n        , hasError: false\r\n    }\r\n  }\r\n  // componentDidUpdate() {\r\n  //     console.log('MapSearchDidMount')\r\n  // }\r\n  componentDidUpdate() {\r\n    const self = this\r\n    const popupData = {}\r\n    popupData.parcelData = {'label': 'Parcel Data:', 'data':self.props.parcelData}\r\n    popupData.realEstate = {'label': 'Real Estate Data:', 'data':self.props.realEstateData}\r\n  }\r\n  componentWillReceiveProps(){\r\n    if(this.state.parcelData!==this.props.parcelData){\r\n      this.setState({parcelData:this.props.parcelData})\r\n      this.setState({pageIndex:0})\r\n    } \r\n    \r\n  }\r\n  nextRecord = () => {\r\n    this.setState({pageIndex: this.state.pageIndex+1}) \r\n  }\r\n  lastRecord = () => {\r\n    this.setState({pageIndex: this.state.pageIndex-1}) \r\n  }\r\n  render() {\r\n    const { classes } = this.props;\r\n    const self = this\r\n    const popupData = {}\r\n    popupData.parcelData = {'label': 'Parcel Data:', 'data':self.props.parcelData}\r\n    popupData.realEstateData = {'label': 'Real Estate Data:', 'data':self.props.realEstateData}\r\n    \r\n    //if (this.props.realEstateData&&this.props.realEstateData.length !==this.state.pageCount){console.log('self.props.realEstateData.length: ' + this.props.realEstateData.length);this.setState({pageCount:this.props.realEstateData.length})}\r\n    \r\n    return (\r\n      <Fade in={this.props.realEstateData!=null&&this.props.parcelData!=null} timeout={1}>\r\n        <div className={classNames('infoPanel', {[classes.pointerEventsAuto]:this.props.realEstateData!=null&&this.props.parcelData!=null})}\r\n                        >\r\n            <div className='header'>\r\n              <Grid\r\n                container\r\n                spacing={16}\r\n                alignItems=\"center\"\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n              >\r\n                <Grid item xs>\r\n                  <IconButton \r\n                    disabled={this.state.pageIndex === 0}\r\n                    className={classes.button} \r\n                    onClick={this.lastRecord}\r\n                  >  \r\n                    <BackIcon />\r\n                  </IconButton>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                { popupData.parcelData.data\r\n                  ? <h2>PIN: {popupData.parcelData.data.PIN}</h2>\r\n                  : null\r\n                }\r\n                </Grid>\r\n                <Grid item xs>\r\n                  <IconButton \r\n                    disabled = {this.state.pageIndex===this.props.realEstateDataLength}\r\n                    className={classes.button} \r\n                    onClick={this.nextRecord}\r\n                  >\r\n                    <ForwardIcon />\r\n                  </IconButton>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n            <div className='body'>\r\n            \r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"stretch\"\r\n            >\r\n               { this.state.pageIndex === 0 && popupData.parcelData.data !== null && popupData.parcelData !== null\r\n                ? <List className={classes.list} subheader={<li />}>\r\n                    <li key={`section-${popupData.parcelData.label}`} className={classes.listSection}>\r\n                        {JSON.stringify(popupData.parcelData.data) != '{}' &&\r\n                            <ul className={classes.ul}>\r\n                                <ListSubheader disableGutters className={classes.subHeader}>{`${popupData.parcelData.label}`}</ListSubheader>\r\n                                {Object.keys(popupData.parcelData.data).map(item => (\r\n                                <ListItem key={`item-${popupData.parcelData.label}-${item}`}>\r\n                                    <ListItemText primary={`${item} : ${popupData.parcelData.data[item]}`} />\r\n                                </ListItem>\r\n                                ))}\r\n                            </ul>\r\n                        }\r\n                    </li>\r\n                  </List>  \r\n                : this.state.pageIndex > 0 && popupData.realEstateData\r\n                  ? <List className={classes.list} subheader={<li />}>\r\n                      {popupData.realEstateData.data &&\r\n                        <li key={`section-${popupData.realEstateData.label}`} className={classes.listSection}>\r\n                            {popupData.realEstateData.data.length !== 0 &&\r\n                                <ul className={classes.ul}>\r\n                                    <ListSubheader disableGutters className={classes.subHeader}>{`${popupData.realEstateData.label} `+this.state.pageIndex}</ListSubheader>\r\n                                    {Object.keys(popupData.realEstateData.data[this.state.pageIndex - 1]).map(item => (\r\n                                    <ListItem key={`item-${popupData.realEstateData.label}-${item}`}>\r\n                                        <ListItemText primary={`${item} : ${popupData.realEstateData.data[this.state.pageIndex -1][item]}`} />\r\n                                    </ListItem>\r\n                                    ))}\r\n                                </ul>\r\n                            }\r\n                        </li>\r\n                      }\r\n                    </List>  \r\n                  : null\r\n              }\r\n            </Grid>\r\n          </div>    \r\n        </div>\r\n      </Fade>\r\n    )\r\n  }\r\n}\r\nInfoPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\nexport default withStyles(styles)(InfoPanel);","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Iframe from 'react-iframe'\r\n// import Grid from '@material-ui/core/Grid'\r\n// import Fade from '@material-ui/core/Fade';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import BackIcon from '@material-ui/icons/KeyboardArrowLeft';\r\n// import ForwardIcon from '@material-ui/icons/KeyboardArrowRight';\r\n// import List from '@material-ui/core/List';\r\n// import ListItem from '@material-ui/core/ListItem';\r\n// import ListItemText from '@material-ui/core/ListItemText';\r\n// import ListSubheader from '@material-ui/core/ListSubheader';\r\n\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n      height:'40em',\r\n      width:'40em',\r\n      position:'relative',  \r\n      top: '20em',\r\n      backgroundColor: theme.palette.background.paper,\r\n  },\r\n});\r\n\r\nclass Chatter extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n        pageIndex: 0\r\n    }\r\n  }\r\n  // componentDidUpdate() {\r\n  //     console.log('MapSearchDidMount')\r\n  // }\r\n  componentDidUpdate() {\r\n    console.log('componentDidUpdate') \r\n  }\r\n  componentWillReceiveProps(){\r\n    console.log('componentWillRecieveProps') \r\n  }\r\n  render() {\r\n    const { classes } = this.props;\r\n    const self = this\r\n    return (\r\n        <div className={classes.root}>\r\n            <Iframe url=\"https://services.townofcary.org/services/oauth2/authorize?response_type=code&client_id=3MVG9ahGHqp.k2_wCB9MiYn6942wDO3E1981n4v3eG6Pxe5WwKTni6j3J9AiN0cgpU1Z4cgmk1YVN7MIYN74r&redirect_uri=https://carync--test.lightning.force.com/lightning/page/chatter\"\r\n                width=\"450px\"\r\n                height=\"450px\"\r\n                id=\"myId\"\r\n                className=\"myClassname\"\r\n                display=\"initial\"\r\n                position=\"relative\"\r\n                allowFullScreen\r\n            />\r\n        </div>\r\n    )\r\n  }\r\n}\r\nChatter.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\nexport default withStyles(styles)(Chatter);","import React, { Component } from 'react'\r\n//import { loadModules } from 'esri-loader'\r\nimport MapSearch from '../MapSearch/MapSearch'\r\nimport SidePanel from '../../SidePanel'\r\nimport InfoPanel from '../InfoPanel/InfoPanel'\r\nimport Chatter from '../../organisms/Chatter'\r\nimport './MapOverlayPanel.css'\r\nimport Grid from '@material-ui/core/Grid'\r\nclass MapOverlayPanel extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      hideSidePanel: true\r\n    }\r\n  } \r\n  setProjectCallback = (value) =>{\r\n    //this.setState({project:value})\r\n    this.props.projectCallback(value)\r\n  }\r\n  setPhaseCallback = (value) =>{\r\n    //this.setState({phase:value})\r\n    this.props.phaseCallback(value)\r\n  }\r\n  componentDidUpdate = () => {\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"mapOverlayPanel\">\r\n        <Grid\r\n          container\r\n          spacing={0}\r\n          alignItems=\"center\"\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n        >\r\n          <MapSearch \r\n            selectParcelCallback={this.props.selectParcelCallback}\r\n            view={this.props.view} \r\n            resultPinDragable={true}\r\n          />\r\n          <SidePanel ref=\"sidePanel\" \r\n            //hideSidePanel={false} \r\n            hideSidePanel={this.props.hideSidePanel} \r\n            addSelectedProperties = {this.props.addSelectedProperties}\r\n            deleteSelectedProperties = {this.props.deleteSelectedProperties}\r\n            projectCallback = {this.setProjectCallback}\r\n            phaseCallback = {this.setPhaseCallback}\r\n          />\r\n          {/* <Chatter></Chatter> */}\r\n          <InfoPanel\r\n            parcelData={this.props.parcelData}\r\n            realEstateData={this.props.realEstateData}\r\n            realEstateDataLength={this.props.realEstateDataLength}\r\n          ></InfoPanel>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MapOverlayPanel","import React from 'react';\nimport EsriLoaderReact from 'esri-loader-react'\nimport { loadModules } from 'esri-loader'\nimport axios from 'axios'\nimport MapOverlayPanel from './molecules/MapOverlayPanel/MapOverlayPanel'\nimport './ReactMap.css'\n\n//production\nconst nodeAppRoot = 'http://reactmaps/realestateapp/'\n//production test\n//const nodeAppRoot = 'http://reactmaps/realestateapp_test/'\n//local\n//const nodeAppRoot = 'http://localhost:4001/'\n//local test\n//const nodeAppRoot = 'http://localhost:4002/'\n\nclass ReactMap extends React.PureComponent {\n  constructor(props){\n    super(props)\n    this.state = {\n      ctrlKey: false\n      , mapView: null\n      , parcelsFL: null\n      , projectsFL: null\n      , parcelAddGL : null\n      , selectedParcelGL: null\n      , projectsAddPIN10s: null\n      , project: null\n      , phase:null\n      , hideSidePanel: true\n      , parcelData: null\n      , realEstateData: null\n      , realEstateDataLength: 0\n    }\n    this.mapClick = this.mapClick.bind(this);\n    this.loadMap = this.loadMap.bind(this);\n    this.loadExistingProjectsToMap = this.loadExistingProjectsToMap.bind(this);\n  }\n  componentDidMount(){\n    document.addEventListener('keydown', keyDown);\n    document.addEventListener('keyup', keyUp);\n    const self = this\n    function keyDown(e) {\n      if (e.ctrlKey&&!self.state.ctrlKey){\n        self.setState({ctrlKey: true})\n      }\n    }\n    function keyUp(e) {\n      if (self.state.ctrlKey){self.setState({ctrlKey: false})}\n    }\n  }\n  loadMap = ({loadedModules: [Map, MapView, FeatureLayer, GraphicsLayer, watchUtils], containerNode}) => {\n    const self = this;\n    const flURL = 'https://maps.townofcary.org/arcgis/rest/services/Property/Property/MapServer/0'\n    let fl = new FeatureLayer({\n        url: flURL \n        , outFields: [\"OBJECTID\",\"PIN\",\"PIN10\",\"Realid\",\"Owner\",\"Owner2\",\"OwnerAdd1\",\"OwnerAdd2\",\"OwnerAdd3\",\"Location\",\"CalcAcreage\",\"DeedAcres\",\"StreetNumber\",\"StreetMisc\",\"StreetPrefix\",\"StreetName\",\"StreetType\",\"StreetSuffix\",\"LandClass\",\"Lclass\",\"TotalStructures\",\"TotalUnits\",\"PropertyDesc\",\"LotNum\",\"BldgValue\",\"LandValue\",\"LandSaleValue\",\"LandSaleDate\",\"TotalSaleValue\",\"TotalSaleDate\",\"DeedBook\",\"DeedPage\",\"WC_City\",\"Cary_City\",\"WC_Etj\",\"Topography\",\"Township\",\"APAOwnership\",\"APAActivity\",\"APAFunction\",\"APAStructure\",\"APASite\",\"WC_Zoning\",\"BillingClass\",\"APAOwnershipDesc\",\"APAActivityDesc\",\"APAFunctionDesc\",\"APAStructureDesc\",\"APASiteDesc\",\"County\",\"TotalBldgSqFt\",\"Typeanduse\",\"Typedecode\",\"PhyCity\",\"PhyZip\",\"Utilities\",\"OwnerWholeName\"]\n        , popupTemplate: null\n    });\n    fl.minScale = 2257;\n    fl.when(function(featureLayer){\n      featureLayer.id = 'parcels';\n      self.setState({parcelsFL: featureLayer});\n    });\n    fl.renderer = {\n      type: \"simple\"  // autocasts as new SimpleRenderer()\n      , symbol: {\n        type: \"simple-fill\",  // autocasts as new SimpleFillSymbol()\n        color: [ 255, 255, 0, 0.1 ],\n        outline: {  // autocasts as new SimpleLineSymbol()\n          width: 1,\n          color: \"white\"\n        }\n      }\n    }\n    \n    const parcelAddGL = new GraphicsLayer({\n      visible:true\n      , id: 'parcelAddGL'\n    })\n    parcelAddGL.watch('graphics.length', function(newValue, oldValue, property, object) {\n      newValue!==0?self.setState({hideSidePanel: false}):self.setState({hideSidePanel: true})\n    });\n    self.setState({parcelAddGL:parcelAddGL})\n    \n    const selectedParcelGL = new GraphicsLayer({\n      visible:true\n      , id: 'selectedParcelGL'\n    })\n    self.setState({selectedParcelGL:selectedParcelGL})\n\n    let map = new Map({basemap: 'satellite'})\n    map.addMany([fl, parcelAddGL, selectedParcelGL])\n    self.loadExistingProjectsToMap(map)\n    let mv = new MapView({\n      container: containerNode\n      , center: [-78.78004, 35.78961]\n      , zoom: 18\n      , map: map\n    }).when((function(mapView){\n        self.setState({mapView:mapView})\n        mapView.on('click', self.mapClick)\n        mapView.popup.highlightEnabled = false;\n        mapView.popup.actions = {}\n        // mapView.popup.watch('visible', function(e){\n        //   if(e){self.setReactPopupContent()}\n        // })\n    }));\n  }\n  refreshProjectFL = (callback) =>{\n    const self = this;\n    axios({\n      method: 'post'\n      , url: nodeAppRoot+'getprojectparcels'\n    })\n    .then(function(response){\n      const array = response.data\n      self.setState({projectsAddPIN10s:array});\n      const list = array.map(s => `'${s}'`).join(', ');\n      self.state.projectsFL.definitionExpression = `PIN10 in (${list})`\n      callback({'status':'success'})\n    })\n    .catch(function (error) {\n      callback({'status':'error'})\n    });\n  }\n  loadExistingProjectsToMap = (map) => {\n    const self = this\n    loadModules(['esri/layers/FeatureLayer']).then(([FeatureLayer]) => {\n        const flURL = 'https://maps.townofcary.org/arcgis/rest/services/Property/Property/MapServer/0'\n        let fl = new FeatureLayer({\n          url: flURL \n          , outFields: [\"*\"]\n          , popupEnabled:false\n        });\n        fl.minScale = 2257;\n        fl.when(function(featureLayer){\n          featureLayer.id = 'projects';\n          self.setState({projectsFL: featureLayer});\n          map.reorder(self.state.parcelAddGL, 3)\n          map.reorder(self.state.selectedParcelGL,4)\n          // map.layers.forEach(function(layer){\n          //   console.log('layer.id: ' + layer.id)\n          // })\n          \n          self.refreshProjectFL(function(status){})\n        });\n        fl.renderer = {\n          type: \"simple\"  // autocasts as new SimpleRenderer()\n          , symbol: {\n            type: \"simple-fill\",  // autocasts as new SimpleFillSymbol()\n            color: [ 255, 0, 0, 0.4 ],\n            outline: {  // autocasts as new SimpleLineSymbol()\n              width: 4,\n              color: \"red\"\n            }\n          }\n        }\n        map.add(fl);\n    })\n  }\n  // setReactPopupContent = () => {\n  //   const self = this\n    \n  //   let puNode = document.createElement(\"div\");\n  //   //const popupContent = document.getElementsByClassName('.esri-popup__content');\n  //   self.state.mapView.popup.content = puNode\n    \n  //   ReactDOM.render(\n  //     <PopUp parcelData={self.state.parcelData} realEstateData={self.state.realEstateData}/>,\n  //     puNode\n  //   );\n  // }\n  addFeature = (e) => {\n    console.log('addFeature')\n  }\n  mapClick = (e) => {\n    //console.log('quit clicking me mapPoint: ' + JSON.stringify(e.mapPoint));\n      this.selectParcel(e.mapPoint) \n      \n  }\n  selectParcel = (mapPoint) => {\n    const self = this;\n    loadModules(['esri/tasks/QueryTask','esri/tasks/support/Query'])\n    .then(([QueryTask,Query]) => \n    {\n      let parcels = this.state.parcelsFL;\n      let URL = parcels.url+'/'+parcels.layerId;  \n      //console.log('URL: '+ URL);\n      var qTask = new QueryTask({\n          url: URL\n        });  \n        var params = new Query({\n              returnGeometry: true\n              , outFields: ['PIN','PIN10','RealId','Owner','OwnerWholeName','Owner2','OwnerAdd1','OwnerAdd2','OwnerAdd3','DeedBook','DeedPage','Location','StreetNumber','StreetPrefix','StreetName','StreetType']\n              , geometry: mapPoint\n              , spatialRelationship: 'intersects'\n        });\n        qTask.execute(params)\n        .then(function(response){\n            if (response.features.length>0){\n              // console.log('response.features[0]: ' + JSON.stringify(response.features[0]));\n              self.addGraphicToProjectSet(response.features[0])\n              let thisParcel = JSON.parse(JSON.stringify(response.features[0]))\n              let fillSymbol = {\n                type: \"simple-fill\", // autocasts as new SimpleFillSymbol()\n                style: 'diagonal-cross',\n                color: \"00FFFF\",\n                outline: { // autocasts as new SimpleLineSymbol()\n                  color: \"00FFFF\",\n                  width: 1\n                }\n              };\n              thisParcel.symbol = fillSymbol\n              thisParcel.geometry.type = 'polygon'\n              console.log()\n              self.state.selectedParcelGL.removeAll()\n              self.state.selectedParcelGL.add(thisParcel)\n              console.log('parceladded')\n              const PIN10 = response.features[0].attributes.PIN10 \n              axios.post(nodeAppRoot+'getprojectattributes/'+JSON.stringify(PIN10)).then(function(response){\n                const resData = response.data;\n                if(response.status===200){\n                  console.log('resData: '+ JSON.stringify(resData));\n                  console.log('resData.length: ' + resData.length)\n                  self.setState({realEstateData: resData})\n                  self.setState({realEstateDataLength: resData.length})\n                  // self.state.mapView.popup.open({\n                  //   title: PIN10\n                  //   , location : e.mapPoint\n                  // })\n                }\n                else{\n                  console.log('realEstate data failed')\n                }\n              })\n              .catch(function (error) {\n                console.log('error: ' + error)\n              });\n            }\n            else{\n              self.state.parcelAddGL.removeAll()\n              self.state.selectedParcelGL.removeAll()\n              self.state.mapView.graphics.removeAll()\n              self.setState({realEstateData: null})\n              self.setState({realEstateDataLength: 0})\n            }\n            let parcelData = JSON.parse(JSON.stringify(response.features[0].attributes))\n            self.deleteObjectKeys(parcelData,['Location','StreetNumber','StreetPrefix','StreetName','StreetType'])\n            self.setState({parcelData: parcelData})\n        })\n        .catch(function(error){\n            console.log('error: ' + JSON.stringify(error));\n        });\n    })\n    .catch(err => {\n      // handle any errors\n      console.error(err);\n    });\n  }\n  deleteObjectKeys = (object,keys) => {\n    keys.forEach(function(key){\n      delete object[key]\n    })\n    return\n  }\n  addGraphicToProjectSet = (graphic) =>{\n    const self = this\n    //loadModules(['esri/Graphic']).then(([Graphic]) => {\n      var fillSymbol = {\n        type: \"simple-fill\", // autocasts as new SimpleFillSymbol()\n        color: [0, 255, 255, 0.1],\n        outline: { // autocasts as new SimpleLineSymbol()\n          color: \"00FFFF\",\n          width: 5\n        }\n      }\n      graphic.symbol = fillSymbol\n      if(!self.state.ctrlKey){\n        self.state.parcelAddGL.removeAll();\n        self.state.selectedParcelGL.removeAll()\n      }\n      \n      if(!self.graphicInGraphicsLayer(graphic, self.state.parcelAddGL, 'PIN')){\n        self.state.parcelAddGL.add(graphic)\n      }\n  }\n  graphicInGraphicsLayer = (G, GL, idField) =>{\n    let inGL = false\n    GL.graphics.forEach(function(g){\n      if(g.attributes[idField]===G.attributes[idField]){\n        inGL = true\n      }\n    })\n    return inGL\n  }\n  removeGraphicById = (G, GL, idField) =>{\n    let removeGraphics = []\n    GL.graphics.forEach(function(g){\n      if(g.attributes[idField]===G.attributes[idField]){\n        removeGraphics.push(g)\n      }\n    })\n    \n    GL.removeMany(removeGraphics)\n  }\n  getSelectedProperties = () => {\n    const self = this\n    let parceldata = []\n    let array = self.state.projectsAddPIN10s\n    this.state.parcelAddGL.graphics.forEach(function(g){\n      let attr = g.attributes\n      if(array.indexOf(attr.PIN10)===-1){\n        array.push(attr.PIN10)\n      } \n      delete attr.RealLink\n      delete attr.DeedLink\n      attr.Project = self.state.project\n      attr.Phase = self.state.phase\n      parceldata.push(attr)\n    }) \n    return parceldata\n  }\n  addSelectedProperties = () => {\n    const self = this;  \n    let array = self.state.projectsAddPIN10s\n    const parceldata = self.getSelectedProperties()\n    axios.post(nodeAppRoot+'addparcels/'+JSON.stringify(parceldata)).then(function(response){\n        const resData = response.data;\n      if(resData.status==='success'){\n        self.refreshProjectFL(function(status){\n          self.state.parcelAddGL.removeAll()\n          self.state.selectedParcelGL.removeAll()\n          self.state.mapView.graphics.removeAll()\n          self.setState({realEstateData: null})\n          self.setState({realEstateDataLength: 0})\n        })\n      }\n      else if (resData.status==='warning'){\n          alert(resData.message)    \n      }\n    })\n    .catch(function (error) {\n      console.log('error: ' + error)\n    });\n  }\n  deleteSelectedProperties = () => {\n    const self = this;  \n    const parceldata = self.getSelectedProperties()\n    axios.post(nodeAppRoot+'deleteparcels/'+JSON.stringify(parceldata)).then(function(response){\n      const resData = response.data;\n      if(resData.status==='success'){\n        self.refreshProjectFL(function(status){\n          self.state.parcelAddGL.removeAll()\n          self.state.selectedParcelGL.removeAll()\n          self.state.mapView.graphics.removeAll()\n          self.setState({realEstateData: null})\n          self.setState({realEstateDataLength: 0})\n        })\n      }\n      else if (resData.status==='warning'){\n          alert(resData.message)    \n      }\n\n    })\n    .catch(function (error) {\n      console.log('error: ' + error)\n    });\n  }\n  setProjectCallback = (value) =>{\n    const self = this\n    this.setState({project:value})\n  }\n  setPhaseCallback = (value) =>{\n    this.setState({phase:value})\n  }\n  selectParcelFromSearch = (mapPoint) =>{\n    this.selectParcel(mapPoint) \n  }\n  render() {\n\n    //var fl = new FeatureLayer(url);\n\n    const options = {\n      url: 'https://js.arcgis.com/4.10/'\n    };\n\n    return (\n      <div className=\"ReactMap\">\n        <EsriLoaderReact \n          options={options}\n          modulesToLoad={['esri/Map', 'esri/views/MapView','esri/layers/FeatureLayer', 'esri/layers/GraphicsLayer', 'esri/core/watchUtils']}    \n          onReady={this.loadMap}\n        />\n        <MapOverlayPanel \n          view={this.state.mapView} \n          resultPinDragable={true}\n          hideSidePanel={this.state.hideSidePanel} \n          addSelectedProperties = {this.addSelectedProperties}\n          deleteSelectedProperties = {this.deleteSelectedProperties}\n          projectCallback = {this.setProjectCallback}\n          phaseCallback = {this.setPhaseCallback}\n          selectParcelCallback={this.selectParcelFromSearch}\n          realEstateData = {this.state.realEstateData}\n          realEstateDataLength={this.state.realEstateDataLength}\n          parcelData = {this.state.parcelData}\n        />\n        \n      </div>\n    );\n  }\n}\n\nexport default ReactMap;","import React, { Component } from 'react';\nimport './App.css';\n//import ReactScene from './components/ReactScene';\nimport ReactMap from './components/ReactMap';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        {/* <ReactScene /> */}\n        <ReactMap />\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}